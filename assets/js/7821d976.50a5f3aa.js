"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[21359],{28453:(e,n,i)=>{i.d(n,{RP:()=>s});var r=i(96540);const o=r.createContext({});function s(e){const n=r.useContext(o);return r.useMemo(()=>"function"==typeof e?e(n):{...n,...e},[n,e])}},84376:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var r=i(74848),o=i(28453);const s={sidebar_position:4},t="Coding Guidelines",a={id:"guides/contributing/code-guidelines",title:"Coding Guidelines",description:"Introduction",source:"@site/docs/guides/contributing/code-guidelines.md",sourceDirName:"guides/contributing",slug:"/guides/contributing/code-guidelines",permalink:"/docs/guides/contributing/code-guidelines",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"guides",previous:{title:"Decompiler Tools",permalink:"/docs/guides/contributing/decompiler-tools"},next:{title:"Licensing",permalink:"/docs/guides/contributing/licensing"}},l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Tabs &amp; Indenting",id:"tabs--indenting",level:2},{value:"Bracing",id:"bracing",level:2},{value:"Single line property statements",id:"single-line-property-statements",level:2},{value:"Commenting",id:"commenting",level:2},{value:"Copyright/License notice",id:"copyrightlicense-notice",level:3},{value:"Documentation Comments",id:"documentation-comments",level:3},{value:"Comment Style",id:"comment-style",level:3},{value:"Spacing",id:"spacing",level:2},{value:"Naming",id:"naming",level:2},{value:"File Organization",id:"file-organization",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.RP)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"coding-guidelines",children:"Coding Guidelines"}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(n.p,{children:["As Cocos2D-Mono continues to mature, the goal is maintain a professional and consistent look throughout the source code. As this project mainly started out following the efforts of ",(0,r.jsx)(n.a,{href:"https://github.com/MonoGame/MonoGame",children:"MonoGame"})," and ",(0,r.jsx)(n.a,{href:"https://github.com/Cocos2DXNA/cocos2d-xna",children:"Cocos2d-Xna"})," it was decided to follow the Microsoft coding guidelines (the default provided in Visual Studio's C# editor) as MonoGame does. These coding guidelines listed below are based on a ",(0,r.jsx)(n.a,{href:"http://blogs.msdn.com/b/brada/archive/2005/01/26/361363.aspx",children:"MSDN blog post"})," from 2005 by Brad Abrams describing the internal coding guidelines at Microsoft, with some changes to suit our project."]}),"\n",(0,r.jsx)(n.h2,{id:"tabs--indenting",children:"Tabs & Indenting"}),"\n",(0,r.jsx)(n.p,{children:"Tab characters (\\0x09) should not be used in code. All indentation should be done with 4 space characters."}),"\n",(0,r.jsx)(n.h2,{id:"bracing",children:"Bracing"}),"\n",(0,r.jsx)(n.p,{children:"Open braces should always be at the beginning of the line after the statement that begins the block. Contents of the brace should be indented by 4 spaces. Single statements do not have braces. For example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"if (someExpression)\r\n{\r\n   DoSomething();\r\n   DoAnotherThing();\r\n}\r\nelse\r\n   DoSomethingElse();\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"case"})," statements should be indented from the switch statement like this:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"switch (someExpression)\r\n{\r\n   case 0:\r\n      DoSomething();\r\n      break;\r\n\r\n   case 1:\r\n      DoSomethingElse();\r\n      break;\r\n\r\n   case 2:\r\n      {\r\n         int n = 1;\r\n         DoAnotherThing(n);\r\n      }\r\n      break;\r\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Braces are not used for single statement blocks immediately following a ",(0,r.jsx)(n.code,{children:"for"}),", ",(0,r.jsx)(n.code,{children:"foreach"}),", ",(0,r.jsx)(n.code,{children:"if"}),", ",(0,r.jsx)(n.code,{children:"do"}),", etc. The single statement block should always be on the following line and indented by four spaces. This increases code readability and maintainability."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"for (int i = 0; i < 100; ++i)\r\n    DoSomething(i);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"single-line-property-statements",children:"Single line property statements"}),"\n",(0,r.jsx)(n.p,{children:"Single line property statements can have braces that begin and end on the same line. This should only be used for simple property statements. Add a single space before and after the braces."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"public class Foo\r\n{\r\n   int bar;\r\n\r\n   public int Bar\r\n   {\r\n      get { return bar; }\r\n      set { bar = value; }\r\n   }\r\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"commenting",children:"Commenting"}),"\n",(0,r.jsx)(n.p,{children:"Comments should be used to describe intention, algorithmic overview, and/or logical flow. It would be ideal if, from reading the comments alone, someone other than the author could understand a function's intended behavior and general operation. While there are no minimum comment requirements (and certainly some very small routines need no commenting at all), it is best that most routines have comments reflecting the programmer's intent and approach."}),"\n",(0,r.jsx)(n.p,{children:"Comments must provide added value or explanation to the code. Simply describing the code is not helpful or useful."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"    // Wrong\r\n    // Set count to 1\r\n    count = 1;\r\n\r\n    // Right\r\n    // Set the initial reference count so it isn't cleaned up next frame\r\n    count = 1;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"copyrightlicense-notice",children:"Copyright/License notice"}),"\n",(0,r.jsx)(n.p,{children:"Each file should start with a copyright notice. This is a short statement declaring the project name and copyright notice, and directing the reader to the license document elsewhere in the project. To avoid errors in doc comment builds, avoid using triple-slash doc comments."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"// Cocos2D-Mono - Copyright (C) The Cocos2D-Mono Team\r\n// This file is subject to the terms and conditions defined in\r\n// file 'LICENSE.txt', which is part of this source code package.\n"})}),"\n",(0,r.jsx)(n.h3,{id:"documentation-comments",children:"Documentation Comments"}),"\n",(0,r.jsxs)(n.p,{children:["All methods should use XML doc comments. For internal dev comments, the ",(0,r.jsx)(n.code,{children:"<devdoc>"})," tag should be used."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'public class Foo\r\n{\r\n    /// <summary>Public stuff about the method</summary>\r\n    /// <param name="bar">What a neat parameter!</param>\r\n    /// <devdoc>Cool internal stuff!</devdoc>\r\n    public void MyMethod(int bar)\r\n    {\r\n        ...\r\n    }\r\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"comment-style",children:"Comment Style"}),"\n",(0,r.jsx)(n.p,{children:"The // (two slashes) style of comment tags should be used in most situations. Wherever possible, place comments above the code instead of beside it. Here are some examples:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'    // This is required for WebClient to work through the proxy\r\n    GlobalProxySelection.Select = new WebProxy("http://itgproxy");\r\n\r\n    // Create object to access Internet resources\r\n    WebClient myClient = new WebClient();\n'})}),"\n",(0,r.jsx)(n.h2,{id:"spacing",children:"Spacing"}),"\n",(0,r.jsx)(n.p,{children:"Spaces improve readability by decreasing code density. Here are some guidelines for the use of space characters within code:"}),"\n",(0,r.jsx)(n.p,{children:"Do use a single space after a comma between function arguments."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Console.In.Read(myChar, 0, 1);  // Right\r\nConsole.In.Read(myChar,0,1);    // Wrong\n"})}),"\n",(0,r.jsx)(n.p,{children:"Do not use a space after the parenthesis and function arguments."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"CreateFoo(myChar, 0, 1)         // Right\r\nCreateFoo( myChar, 0, 1 )       // Wrong\n"})}),"\n",(0,r.jsx)(n.p,{children:"Do not use spaces between a function name and parentheses."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"CreateFoo()                     // Right\r\nCreateFoo ()                    // Wrong\n"})}),"\n",(0,r.jsx)(n.p,{children:"Do not use spaces inside brackets."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"x = dataArray[index];           // Right\r\nx = dataArray[ index ];         // Wrong\n"})}),"\n",(0,r.jsx)(n.p,{children:"Do use a single space before flow control statements."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"while (x == y)                  // Right\r\nwhile(x==y)                     // Wrong\n"})}),"\n",(0,r.jsx)(n.p,{children:"Do use a single space before and after binary operators."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"if (x == y)                     // Right\r\nif (x==y)                       // Wrong\n"})}),"\n",(0,r.jsx)(n.p,{children:"Do not use a space between a unary operator and the operand."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"++i;                            // Right\r\n++ i;                           // Wrong\n"})}),"\n",(0,r.jsx)(n.p,{children:"Do not use a space before a semi-colon. Do use a space after a semi-colon if there is more on the same line."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"for (int i = 0; i < 100; ++i)   // Right\r\nfor (int i=0 ; i<100 ; ++i)     // Wrong\n"})}),"\n",(0,r.jsx)(n.h2,{id:"naming",children:"Naming"}),"\n",(0,r.jsx)(n.p,{children:"Follow all .NET Framework Design Guidelines for both internal and external members. Highlights of these include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Do not use Hungarian notation"}),"\n",(0,r.jsx)(n.li,{children:'Do use an underscore prefix for member variables, e.g. "_foo"'}),"\n",(0,r.jsx)(n.li,{children:"Do use camelCasing for member variables (first word all lowercase, subsequent words initial uppercase)"}),"\n",(0,r.jsx)(n.li,{children:"Do use camelCasing for parameters"}),"\n",(0,r.jsx)(n.li,{children:"Do use camelCasing for local variables"}),"\n",(0,r.jsx)(n.li,{children:"Do use PascalCasing for function, property, event, and class names (all words initial uppercase)"}),"\n",(0,r.jsx)(n.li,{children:'Do prefix interfaces names with "I"'}),"\n",(0,r.jsx)(n.li,{children:"Do not prefix enums, classes, or delegates with any letter"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The reasons to extend the public rules (no Hungarian, underscore prefix for member variables, etc.) is to produce a consistent source code appearance. In addition, the goal is to have clean, readable source. Code legibility should be a primary goal."}),"\n",(0,r.jsx)(n.h2,{id:"file-organization",children:"File Organization"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Source files should contain only one public type, although multiple internal types are permitted if required"}),"\n",(0,r.jsx)(n.li,{children:"Source files should be given the name of the public type in the file"}),"\n",(0,r.jsx)(n.li,{children:"Class members should be grouped logically, and encapsulated into regions (Fields, Constructors, Properties, Events, Methods, Private interface implementations, Nested types)"}),"\n",(0,r.jsx)(n.li,{children:"Using statements should be before the namespace declaration."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"using System;\r\n\r\nnamespace MyNamespace\r\n{\r\n    public class MyClass : IFoo\r\n    {\r\n        #region Fields\r\n        int foo;\r\n        #endregion\r\n\r\n        #region Properties\r\n        public int Foo { get { ... } set { ... } }\r\n        #endregion\r\n\r\n        #region Constructors\r\n        public MyClass()\r\n        {\r\n            ...\r\n        }\r\n        #endregion\r\n\r\n        #region Events\r\n        public event EventHandler FooChanged { add { ... } remove { ... } }\r\n        #endregion\r\n\r\n        #region Methods\r\n        void DoSomething()\r\n        {\r\n            ...\r\n        }\r\n\r\n        void FindSomething()\r\n        {\r\n            ...\r\n        }\r\n        #endregion\r\n\r\n        #region Private interface implementations\r\n        void IFoo.DoSomething()\r\n        {\r\n            DoSomething();\r\n        }\r\n        #endregion\r\n\r\n        #region Nested types\r\n        class NestedType\r\n        {\r\n            ...\r\n        }\r\n        #endregion\r\n    }\r\n}\n"})}),"\n",(0,r.jsx)(n.h1,{id:"useful-links",children:"Useful Links"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"http://msdn.microsoft.com/en-us/library/ff926074.aspx",children:"C# Coding Conventions (MSDN)"})})]})}function h(e={}){const{wrapper:n}={...(0,o.RP)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);